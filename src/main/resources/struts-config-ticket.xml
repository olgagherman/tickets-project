<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
   "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="ticket" namespace="/" extends="struts-default">
		<interceptors>
			<interceptor-stack name="appDefaultStack">
				<interceptor-ref name="defaultStack">
					<param name="exception.logEnabled">true</param>
					<param name="exception.logLevel">ERROR</param>
				</interceptor-ref>
			</interceptor-stack>
		</interceptors>

		<default-interceptor-ref name="appDefaultStack" />


		<global-exception-mappings>
			<exception-mapping result="error"
				exception="md.utm.fi.exception.ObjectsNotFoundException"></exception-mapping>
		</global-exception-mappings>

		<action name="board">
			<result>ticket/board.jsp</result>
		</action>
<action name="listTicketsAction" class="ticketAction" method="listAllTickets">
			<result name="success">ticket/viewTickets.jsp</result>
		</action>
	
	<action name="editTicket" class="ticketAction" method="editTicket">
			<result name="success">ticket/createTicket.jsp</result>
		</action>
		
		<action name="updateTicketAction" class="ticketAction" method="updateTicket">
			<result name="success" type="redirectAction">listTicketsAction</result>
			<result name="error" type="redirectAction">listTicketsAction</result>
		</action>
		<action name="registerTicket">
			<result>ticket/createTicket.jsp</result>
		</action>
		
		<action name="createTicketAction" class="ticketAction" method="addTicket">
			<result name="success"  type="redirectAction">listTicketsAction</result>
			<result name="error">ticket/createTicket.jsp</result>
		</action>
			<action name="removeTicket" class="ticketAction" method="removeTicket">
			<result name="success" type="redirectAction">listTicketAction</result>
		</action>
		
	</package>
</struts>